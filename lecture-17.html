<h1 id="double-integrals-riemann-sums">Double integrals: Riemann sums</h1>
<h2 id="how-big-is-mt.-rainier">How big is Mt. Rainier?</h2>
<p>A large mining company has decided it wants to turn Mt. Rainier into pure profit by smashing and carting the whole thing away one rock at a time (for use in fishtanks). They ask the piglet of calculus to help them calculate the amount of rock they will end up with.</p>
<p>What are the piglet’s options?</p>
<p>(Note: the piglet has access to the Puget Sound LIDAR Consortium’s data set.)</p>
<h2 id="toy-model-rides-again">Toy model rides again</h2>
<p>Let’s think about a toy model given by</p>
<p><span class="math">\[z=\sqrt{\frac{10-x^2-y^2}{e^{x^2+y^2}}}.\]</span></p>
<h2 id="crude-approximation">Crude approximation</h2>
<p>Let’s just try to get the volume over the 4 by 4 square centered at the origin.</p>
<p>That oughta do it.</p>
<h2 id="we-can-do-better-than-that">We can do better than that!</h2>
<p>Let’s refine the grid! Vol:</p>
<p>Change the number of blocks, observe the effect on the approximation. “N” means “N by N grid”</p>
<h2 id="keep-going">Keep going!</h2>
<p>Just to show you, here is what happens for a 100 by 100 grid. Vol:</p>
<p>That’s a mighty fine approximation you have there. It would be a shame if anything happened to it….</p>
<h2 id="does-this-remind-you-of-anything">Does this remind you of anything?</h2>
<p>Are we just playing with blocks?</p>
<p>LEGO is Danish, but these things are          .</p>
<h2 id="remember-riemann-sums">Remember Riemann sums?</h2>
<p>In your calculus youth, you learned about integration via Riemann sums.</p>
<p>Recall: given a function <span class="math">\(f(x)\)</span> defined on an interval <span class="math">\([a,b]\)</span> and an integer <span class="math">\(n\)</span>, we form the <span class="math">\(n\)</span>th Riemann sum like this:</p>
<p><span class="math">\[S_n=\sum_{i=1}^nf\left(a+(2i-1)\frac{b-a}{2n}\right)\frac{1}{n}=\sum_{i=1}^nf(x_i)\Delta(x)\]</span></p>
<p>The idea: divide the interval into <span class="math">\(n\)</span> equal pieces, evaluate the function in the middle of each interval, and add up the areas of the resulting rectangles.</p>
<h2 id="stew-in-brain-juices">Stew in brain juices</h2>
<p>Try to set up a similar thing for functions of two variables <span class="math">\(f(x,y)\)</span> over a rectangle <span class="math">\([a,b]\times[c,d]\)</span>: <span class="math">\(x\)</span> goes from <span class="math">\(a\)</span> to <span class="math">\(b\)</span> and <span class="math">\(y\)</span> goes from <span class="math">\(c\)</span> to <span class="math">\(d\)</span>.</p>
<p>Some components you might want to use to start:</p>
<p><span class="math">\[\sum_{i=1}^m\sum_{j=1}^n\qquad\qquad
\Delta(x)\qquad\qquad \Delta(y)\qquad\qquad f\qquad\qquad
x_{ij}\qquad\qquad y_{ij}\]</span></p>
<p>This is not just a mindless exercise. How would you program a computer to make these approximations? Work backwards from there if you want!</p>
<p>Maybe I just worked some magic to make those models before.</p>
<h2 id="riemann-sums-over-rectangles">Riemann sums over rectangles</h2>
<p>Here’s one possible answer:</p>
<p>Suppose <span class="math">\(f(x,y)\)</span> is defined and continuous on the rectangle <span class="math">\[[a,b]\times[c,d]=\{(x,y) | a\leq x\leq b, c\leq y\leq
d\}.\]</span> “The” <span class="math">\(n\)</span>th Riemann sum of <span class="math">\(f\)</span> is</p>
<p><span class="math">\[S_n=\sum_{i=1}^n\sum_{j=1}^nf(x_{ij},y_{ij})\Delta(x)\Delta(y),\]</span></p>
<p>where <span class="math">\((x_{ij},y_{ij})\)</span> is a point in the <span class="math">\(ij\)</span>-subrectangle <span class="math">\[\left[a+(i-1)\frac{b-a}{n},a+i\frac{b-a}{n}\right]\times\left[c+(j-1)\frac{d-c}{n},c+j\frac{d-c}{n}\right].\]</span></p>
<p>Where the heck are the rectangles in there?!</p>
<h1 id="double-integrals-first-examples">Double integrals: first examples</h1>
<h2 id="the-double-integral-appears">The double integral appears</h2>
<p>In reasonable circumstances the approximations we get from Riemann sums improve as the mesh gets finer and finer.</p>
<p>Let’s give this limit a name!</p>
<p>If <span class="math">\(f(x,y)\)</span> is continuous on the rectangle <span class="math">\(R=[a,b]\times[c,d]\)</span> then the double integral of <span class="math">\(f\)</span> over <span class="math">\(R\)</span> is the limit</p>
<p><span class="math">\[\iint_R f(x,y)dx
dy=\lim_{n\to\infty}\sum_{i=1}^n\sum_{j=1}^nf(x_{ij},y_{ij})\Delta(x)\Delta(y).\]</span></p>
<p>You will see a slightly different formulation in some books. Compare them and decide if they’re the same! (He divides the two directions into different numbers of parts, etc., etc.)</p>
<h2 id="it-computes-volume">It computes volume</h2>
<p>As you can guess from our model, the double integral computes a volume.</p>
<p>Theorem: given a function <span class="math">\(f(x,y)\)</span> continuous and non-negative over a rectangle <span class="math">\(R\)</span> in <span class="math">\(\mathbf{R}^2\)</span>, the volume of the solid between the <span class="math">\(xy\)</span>-plane and the graph of <span class="math">\(f\)</span> over <span class="math">\(R\)</span> equals <span class="math">\(\iint_Rfdxdy.\)</span></p>
<p>This baby has volume approximately <span class="math">\(16.5895\)</span>. Sweet. (How did the computer get this?)</p>
<h2 id="how-do-you-compute-these">How do you compute these?</h2>
<p>Can we do a single example?</p>
<p>Here’s one: <span class="math">\(f(x,y)=1\)</span> over the rectangle <span class="math">\(R=[-1,1]\times[-1,1].\)</span> For the <span class="math">\(n\)</span>th Riemann sum, <span class="math">\(\Delta(x)=\frac{1-(-1)}{n}=\frac{2}{n}\)</span> and similarly for <span class="math">\(\Delta(y)\)</span>.</p>
<p>Computing the Riemann sums:</p>
<p><span class="math">\[\begin{align}
S_n&amp;=\sum_{i=1}^n\sum_{j=1}^n1\Delta(x)\Delta(y) \\
&amp;=\left(\sum_{i=1}^n\Delta(x)\right)\left(\sum_{j=1}^n\Delta(y)\right)\\
&amp;=\left(\sum_{i=1}^n\frac{2}{n}\right)\left(\sum_{j=1}^n\frac{2}{n}\right)\\
&amp;=2\cdot 2=4, \end{align}\]</span></p>
<p>so we get <span class="math">\(\iint_R 1dxdy=4.\)</span></p>
<h2 id="the-piglet-is-excited">The piglet is excited</h2>
<p>The piglet of calculus has come knocking on your door at 2 AM. She is waving a notebook in the air. She calls you over and says:</p>
<p>“For any function <span class="math">\(f(x,y)\)</span> of the form <span class="math">\(f(x,y)=g(x)h(y)\)</span> and any rectangle <span class="math">\(R=[a,b]\times[c,d]\)</span>, I know that</p>
<p><span class="math">\[\iint_Rf(x,y)dxdy=\left(\int_a^bg(x)dx\right)\cdot\left(\int_c^dh(y)dy\right).\text{&quot;}\]</span></p>
<p>Is she right?</p>
<p>To warm up, you could try <span class="math">\(f(x,y)=x\)</span> and then <span class="math">\(f(x,y)=xy.\)</span></p>
<p>If you settle the piglet’s question, you might try your hand at computing <span class="math">\(\iint_{[0,1]\times[0,2]}(x+y) dxdy\)</span>; this does not fit into the piglet’s pattern, of course!</p>
<h2 id="germany-italy-happy-pig">Germany + Italy = happy pig</h2>
<p>Go and learn about iterated integrals, an incredibly powerful method of computing these beasts. We will use them together in other segments, but I will assume you know what they are.</p>
<p>Observation: we can try to split up the integral by dealing with the variables separately. If we choose the center points in each rectangle, we can write a Riemann sum and then start speculating wildly.</p>
<p><span class="math">\[\begin{align}&amp;\sum_{i=1}^n\sum_{i=1}^mf(x_{i},y_{j})\Delta(x)\Delta(y)=\sum_{i=1}^m\Delta(x)\sum_{j=1}f(x_i,y_j)\Delta(y)\\
&amp;\approx\sum_{i=1}^m\Delta(x)\int_{c}^d
f(x_i,y)dy\approx\int_{a}^b\left(\int_{c}^df(x,y)dy\right)dx\end{align}\]</span></p>
<h1 id="double-integrals-iterated-integrals">Double integrals: iterated integrals</h1>
<h2 id="iterated-integrals-summary">Iterated integrals: summary</h2>
<p>Given a continuous function <span class="math">\(f(x,y)\)</span> on a rectangle <span class="math">\([a,b]\times[c,d]\)</span>,</p>
<p><span class="math">\[\begin{align}\iint_Rf(x,y)dxdy&amp;=\int_c^d\left(\int_a^b
f(x,y)dx\right)dy\\ &amp;=\int_a^b\left(\int_c^d
f(x,y)dy\right)dx.\end{align}\]</span></p>
<p>Example: for <span class="math">\(f(x,y)=x+y\)</span> and <span class="math">\(R=[0,1]\times[0,1]\)</span></p>
<p><span class="math">\[\begin{align} \iint_Rf(x,y)dxdy&amp;=\int_0^1\left(\int_0^1
(x+y)dx\right)dy
=\int_0^1\left(\frac{1}{2}x^2+yx\right)\Biggr|_0^1dy\\
&amp;=\int_0^1\frac{1}{2}+ydy=\frac{1}{2}y+\frac{1}{2}y^2\Biggr|_0^1=1.
\end{align}\]</span></p>
<h2 id="do-one">Do one!</h2>
<p>Remember our friend the egg carton? Equation: <span class="math">\(f(x,y)=\sin(x)\cos(y)\)</span>.</p>
<p>Calculate the double integral</p>
<p><span class="math">\[\iint_{[0,\pi]\times[-\pi/2,\pi/2]}\sin(x)\cos(y)dxdy\]</span></p>
<p>What if we change the region to <span class="math">\([0,2\pi]\times[0,2\pi]\)</span>?</p>
<h2 id="the-piglet-was-excited">The piglet was excited</h2>
<p>The piglet of calculus came knocking on your door at 2 AM waving a notebook in the air. She called you over and said:</p>
<p>“For any function <span class="math">\(f(x,y)\)</span> of the form <span class="math">\(f(x,y)=g(x)h(y)\)</span> and any rectangle <span class="math">\(R=[a,b]\times[c,d]\)</span>, I know that</p>
<p><span class="math">\[\iint_Rf(x,y)dxdy=\left(\int_a^bg(x)dx\right)\cdot\left(\int_c^dh(y)dy\right).\text{&quot;}\]</span></p>
<p>Was she right?</p>
<h2 id="iterating-the-piglet">Iterating the piglet</h2>
<p>Does our new tool help us understand the piglet’s question?</p>
<p><span class="math">\[\iint_Rg(x)h(y)dxdy=\left(\int_a^bg(x)dx\right)\cdot\left(\int_c^dh(y)dy\right).\]</span></p>
<p>Think about this for a few minutes.</p>
